
{% extends 'main/layout.html' %}

{%  load static  %}
{% block content %}

  <div class='container'>

      {%  if col1|length > 0 and  col2|length > 0 and col3|length > 0 %}
      <div class='row'>


        <div class='col-md-9'>
          <div class='row'>




            <div class='col-md-6'>
                {% for article in col1 %}

                <article class="card mb-4">
                <header class="card-header">
                  <div class="card-meta">
                    <a href="{{ article.page_url }}"><time class="timeago" datetime="2017-10-26 20:00" data-tid="1">{{ article.Created |date:"M d, Y" }}</time></a>
                  </div>
                  <a href="{{ article.page_url }}">
                    <h4 class="card-title">{{ article.Title }}</h4>
                  </a>
                    <div  id="author"> By

                     {% for author in article.Author.all %}

                         <!-- if only 1 element or first element -->
                         {% if forloop.first == forloop.last or forloop.counter == 1 %}
                            <a href="{{ author.page_url}}">{{ author.name}} </a>

                         <!-- If not then -->
                         {% else  %}

                        <!-- if Last element -->
                         {%  if forloop.last %}

                             <!-- If only 2 elements -->
                             {% if forloop.counter == 2 %}
                                 and <a href="{{ author.page_url}}">{{ author.name}} </a>

                              <!-- If not -->
                             {% else %}

                                 , and <a href="{{ author.page_url}}">{{ author.name}} </a>
                             {% endif %}

                         <!-- If not last element -->
                         {% else %}
                            {% if forloop.counter > 1 %}
                                , <a href="{{ author.page_url}}">{{ author.name}} </a>
                            {% endif %}{% endif %}{% endif %}
                     {% endfor %}
                </div>
                </header>
                <a href="{{ article.page_url }}">



                  <img class="card-img" src="{{ article.Image.url }}" alt="">
                </a>
                <div class="card-body">
                  <p class="card-text">{{ article.Description }} </p>
                </div>
              </article>
                    {%  endfor %}
            </div>

            <div class='col-md-6'>
                {%  for article in col2 %}

               <article class="card mb-4">
                <header class="card-header">
                  <div class="card-meta">
                    <a href="{{ article.page_url }}"><time class="timeago" datetime="2017-10-26 20:00" data-tid="1">{{ article.Created |date:"M d, Y"  }}</time></a>
                  </div>
                  <a href="{{ article.page_url }}">
                    <h4 class="card-title">{{ article.Title }}</h4>
                  </a>
                    <div  id="author"> By

                     {% for author in article.Author.all %}

                         <!-- if only 1 element or first element -->
                         {% if forloop.first == forloop.last or forloop.counter == 1 %}
                            <a href="{{ author.page_url}}">{{ author.name}} </a>

                         <!-- If not then -->
                         {% else  %}

                        <!-- if Last element -->
                         {%  if forloop.last %}

                             <!-- If only 2 elements -->
                             {% if forloop.counter == 2 %}
                                 and <a href="{{ author.page_url}}">{{ author.name}} </a>

                              <!-- If not -->
                             {% else %}

                                 , and <a href="{{ author.page_url}}">{{ author.name}} </a>
                             {% endif %}

                         <!-- If not last element -->
                         {% else %}
                            {% if forloop.counter > 1 %}
                                , <a href="{{ author.page_url}}">{{ author.name}} </a>
                            {% endif %}{% endif %}{% endif %}
                     {% endfor %}
                </div>
                </header>
                <a href="{{ article.page_url }}">
                  <img class="card-img" src="{{ article.Image.url }}" alt="">
                </a>
                <div class="card-body">
                  <p class="card-text">{{ article.Description }} </p>
                </div>
              </article>
                {%  endfor %}


          </div>

        </div>
        </div>

        <div class='col-md-3 ml-auto'>
             {%  for article in col3 %}
          <aside class='side-bar'>
            <div class="card mb-4">
              <div class="card-body">
                  <a href="{{ article.page_url }}">
                <h4 class="card-title">{{ article.Title }}</h4> </a>

                  <a href="{{ article.page_url }}">
                <p class="card-text">{{ article.Description }} </p>
                      </a>

              </div>
            </div>
          </aside>
            {%  endfor %}
          </div>



    </div>

      {%  else %}
          <div class="container">
<div class="'row justify-content-center">
<div class="col">
       {%  for blog in col1 %}

           <div class="card" style="">
           <a href="{{ blog.page_url }}" >
  <img class="card-img-top" src="{{ blog.Image.url }}" alt="Card image cap">
           </a>
  <div class="card-body">
    <h5 class="card-title">{{ blog.Title }}</h5>
    <p class="card-text">{{ blog.Description }}</p>

  </div>
</div>

        {% endfor %}
        {%  for blog in col3 %}

           <div class="card" style="">
           <a href="{{ blog.page_url }}" >
  <img class="card-img-top" src="{{ blog.Image.url }}" alt="Card image cap">
           </a>
  <div class="card-body">
    <h5 class="card-title">{{ blog.Title }}</h5>
    <p class="card-text">{{ blog.Description }}</p>

  </div>
</div>

        {% endfor %}
   </div>
</div>
    </div>


  {% endif %}


</div>
{% endblock content%}
